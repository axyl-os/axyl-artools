# Maintainer: Your Name <youremail@domain.com>

pkgname=NAME-runit
pkgver=VERSION
pkgrel=1
epoch=
pkgdesc="Runit NAME init script"
arch=('any')
url="https://gitea.artixlinux.org/artixlinux/packages-runit"
license=('GPL2')
groups=()
depends=("runit" "NAME")
makedepends=()
checkdepends=()
optdepends=()
provides=("init-NAME")
conflicts=("init-NAME")
replaces=()
backup=()
options=()
install=
changelog=
source=(NAME.{run,finish,check})
sha256sums=()

_inst_runit() {
    local sv="$1"
    if [ -f "${srcdir}/$sv".conf ]; then
        install -Dm644 "${srcdir}/$sv".conf "${pkgdir}"/etc/runit/sv/"$sv"/conf
    fi

    for f in run finish check; do
        if [ -f "${srcdir}/$sv.$f" ]; then
            install -Dm755 "${srcdir}/$sv.$f" "${pkgdir}"/etc/runit/sv/"$sv/$f"
        fi
    done
}

package() {
    _inst_runit "NAME"
}
